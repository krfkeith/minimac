=3 Defining macros=

==3.1 Defining a basic substitution macro==

A macro definition is composed of a name and a body. 
A macro definition begins with the backquote character ` (upper left key on most keyboards) followed by the macro name. A second backquote begins the body of the definition, and a third backquote ends the definition.
 
The following example defines the macro 'foo' that expands to `Hello world!'

<tt><b>
```foo```Hello World!```<br/>
=><br/>
foo<br/>
=>Hello World!<br/>
</b></tt>

Any text between the first space after end of the name and the body of the definition is ignored. The following three examples are equivalent:

<tt><b>
```foo```Hello World!```<br/>
```foo ```Hello World!```<br/>
```foo This is an example ```Hello World!```<br/>
</b></tt>

Macro names are case sensitive:

<tt><b>
```foo```Hello```<br/>
=><br/>
FOO<br/>
=>FOO<br/>
foo<br/>
=>Hello<br/>
</b></tt>

==3.2 Redefining a macro==

A new definition of a macro replaces the previous definition from that point onwards.

<tt><b>
```foo```Hello```<br/>
=><br/>
foo<br/>
=>Hello<br/>
```foo```Goodbye```<br/>
=><br/>
foo<br/>
=>Goodbye<br/>
</b></tt>

==3.3 Nested macros==

Macro expansion is delayed to the last possible moment.

<tt><b>
```friend```George```<br/>
=><br/>
```greet```Hello friend```<br/>
=><br/>
greet<br/>
=>Hello George<br/>
```friend```Ann```<br/>
=><br/>
greet<br/>
=>Hello Ann<br/>
</b></tt>

==3.4 Self-referential macros==

The caret '^' character in the body of a macro expands to the previous definition with the same name as the macro currently being defined.

<tt><b>
```greet```hello```<br/>
=><br/>
greet<br/>
=>hello<br/>
```greet```Well ^ there!```<br/>
=><br/>
greet<br/>
=> Well hello there!<br/>
</b></tt>

==3.5 Embedded macro names==

To expand a macro name that is adjacent to a non-whitespace character, place a dollar '$' character between the name and the non-whitespace character:

<tt><b>
```what```car```<br/>
=><br/>
```who```George```<br/>
=><br/>
```thing```who$'s what```<br/>
=><br/>
thing<br/>
=>George's car<br/>
</b></tt>

----
*minimac - A minimalist macro processor*

_Copyright 2009 Mark W. Humphries. All rights reserved._